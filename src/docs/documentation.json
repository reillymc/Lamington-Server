{
    "openapi": "3.0.0",
    "info": {
        "title": "Lamington API",
        "description": "API for data used by the Lamington app.",
        "version": "1.2.3",
        "contact": {
            "email": "reilly@mackenzie-cree.net"
        }
    },
    "servers": [
        {
            "description": "Production server",
            "url": "https://lamingtonapi.reillymc.com/v1"
        },
        {
            "description": "Development server",
            "url": "http://localhost:3000/v1"
        }
    ],
    "security": [
        {
            "bearerAuth": []
        }
    ],
    "tags": [
        {
            "name": "Authentication"
        },
        {
            "name": "Recipes"
        }
    ],
    "components": {
        "schemas": {
            "User": {
                "properties": {
                    "email": {
                        "type": "string",
                        "default": "test"
                    },
                    "firstName": {
                        "type": "string",
                        "default": "Alice"
                    },
                    "lastName": {
                        "type": "string",
                        "default": "Lamington"
                    },
                    "password": {
                        "type": "string",
                        "default": ""
                    },
                    "status": {
                        "type": "string"
                    }
                },
                "required": ["email", "firstName", "lastName", "password"]
            },
            "Recipe": {
                "properties": {
                    "id": {
                        "type": "string",
                        "default": ""
                    },
                    "name": {
                        "type": "string",
                        "default": "Swagger's Homemade Recipe"
                    },
                    "source": {
                        "type": "string",
                        "default": "Swagger Generated Recipe"
                    },
                    "ingredients": {
                        "type": "string",
                        "default": "Swagger Generated Ingredients"
                    },
                    "method": {
                        "type": "string",
                        "default": "Swagger Generated Method"
                    },
                    "notes": {
                        "type": "string",
                        "default": "Swagger Generated Note"
                    },
                    "photo": {
                        "type": "string",
                        "default": "default.jpg"
                    },
                    "servings": {
                        "type": "integer",
                        "default": 1
                    },
                    "prepTime": {
                        "type": "integer",
                        "default": 30
                    },
                    "cookTime": {
                        "type": "integer",
                        "default": 60
                    },
                    "createdBy": {
                        "type": "string",
                        "default": "10000000-0000-0000-0000-000000000000"
                    },
                    "timesCooked": {
                        "type": "number",
                        "default": "1"
                    },
                    "rating": {
                        "type": "number",
                        "default": "3"
                    },
                    "categories": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Category"
                        }
                    }
                },
                "required": ["name", "created_by"]
            },
            "RecipeList": {
                "properties": {
                    "recipes": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Recipe"
                        }
                    }
                }
            },
            "Category": {
                "properties": {
                    "type": {
                        "type": "string",
                        "default": "Cuisine"
                    },
                    "name": {
                        "type": "string",
                        "default": "Tasty"
                    },
                    "notes": {
                        "type": "string",
                        "default": null
                    }
                }
            },
            "RosteredRecipe": {
                "properties": {
                    "recipeId": {
                        "type": "string",
                        "default": "010-000-000"
                    },
                    "assigneeId": {
                        "type": "string",
                        "default": "100-000-000"
                    },
                    "assigneeName": {
                        "type": "string",
                        "default": "Testificate"
                    },
                    "assignerId": {
                        "type": "string",
                        "default": "200-000-000"
                    },
                    "assignerName": {
                        "type": "string",
                        "default": "Father"
                    },
                    "assigneedDate": {
                        "type": "string",
                        "default": "2021-06-06"
                    },
                    "repeat": {
                        "type": "boolean",
                        "default": false
                    },
                    "completed": {
                        "type": "boolean",
                        "default": false
                    }
                }
            },
            "RecipeRating": {
                "properties": {
                    "recipeId": {
                        "type": "string",
                        "default": "000-000-001"
                    },
                    "rating": {
                        "type": "number",
                        "default": 5
                    }
                }
            },
            "Ingredient": {
                "properties": {
                    "name": {
                        "type": "string",
                        "default": "Spinach"
                    },
                    "namePlural": {
                        "type": "string",
                        "default": null
                    },
                    "notes": {
                        "type": "string",
                        "default": null
                    }
                }
            },
            "List": {
                "properties": {
                    "listId": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    },
                    "createdBy": {
                        "type": "string"
                    },
                    "description": {
                        "type": "string"
                    },
                    "items": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Recipe"
                        }
                    }
                }
            },
            "ListItem": {
                "properties": {
                    "itemId": {
                        "type": "string"
                    },
                    "listId": {
                        "type": "string"
                    },
                    "index": {
                        "type": "number"
                    },
                    "name": {
                        "type": "string"
                    },
                    "dateAdded": {
                        "type": "string"
                    },
                    "completed": {
                        "type": "boolean"
                    },
                    "ingredientId": {
                        "type": "string"
                    },
                    "unit": {
                        "type": "string"
                    },
                    "amount": {
                        "type": "number"
                    },
                    "notes": {
                        "type": "string"
                    }
                }
            }
        },
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT"
            }
        }
    },
    "paths": {
        "/auth/register": {
            "post": {
                "tags": ["Authentication"],
                "summary": "Registration page",
                "description": "Registration page to allow for authenticated access to the API",
                "operationId": "register",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/User"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "format": "string",
                                            "example": "yay! you've successfully registered your user account :)"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "string",
                                            "format": "string",
                                            "example": "oops! It looks like that user already exists :("
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/login": {
            "post": {
                "tags": ["Authentication"],
                "summary": "Login page",
                "description": "Login page to allow for authenticated access to the API",
                "operationId": "login",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "example": "test"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": ""
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Ok.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "access_token": {
                                            "type": "string",
                                            "format": "string",
                                            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjo1Nzg2LCJlbWFpbCI6ImRlbW8xMjM0QGdtYWlsLmNvbSJ9LCJpYXQiOjE1NTUzMjQ2MDIsImV4cCI6MTU1NTQxMTAwMn0.mo85iKuAQ_h8n8-6pkeNNs5CCnV0G8hScxhi_ml_Q6c"
                                        },
                                        "token_type": {
                                            "type": "string",
                                            "format": "string",
                                            "example": "Bearer"
                                        },
                                        "expires_in": {
                                            "type": "integer",
                                            "format": "int32",
                                            "example": 86400
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "message": {
                                            "type": "integer",
                                            "format": "string",
                                            "example": "invalid login - bad password"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/recipes": {
            "get": {
                "tags": ["Recipes"],
                "summary": "Returns a list of all recipes.",
                "responses": {
                    "200": {
                        "description": "A JSON array of recipes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RecipeList"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": ["Recipes"],
                "summary": "Create a new recipe or update an existing recipe.",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Recipe"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created"
                    }
                }
            }
        },
        "/recipes/{recipeId}": {
            "get": {
                "tags": ["Recipes"],
                "summary": "Returns a recipe.",
                "parameters": [
                    {
                        "in": "path",
                        "name": "recipeId",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "default": "8b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "A JSON array of recipes",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Recipe"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/recipes/roster": {
            "get": {
                "tags": ["Recipes"],
                "summary": "Returns the recipe roster.",
                "responses": {
                    "200": {
                        "description": "A JSON array of recipe assignments",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/RosteredRecipe"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/recipes/rate": {
            "post": {
                "tags": ["Recipes"],
                "summary": "Rate a recipe.",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/RecipeRating"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created"
                    }
                }
            }
        },
        "/categories": {
            "get": {
                "tags": ["Categories"],
                "summary": "Returns a list of all categories.",
                "responses": {
                    "200": {
                        "description": "A JSON array of categories",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Category"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": ["Categories"],
                "summary": "Create a category.",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Category"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created"
                    }
                }
            }
        },
        "/ingredient": {
            "get": {
                "tags": ["Ingredients"],
                "summary": "Returns a list of all ingredients.",
                "responses": {
                    "200": {
                        "description": "A JSON array of ingredients",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Ingredient"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": ["Ingredients"],
                "summary": "Create an ingredient.",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/Ingredient"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created"
                    }
                }
            }
        },
        "/list": {
            "get": {
                "tags": ["List"],
                "summary": "Returns the desired list information and items.",
                "responses": {
                    "200": {
                        "description": "A list with an array of items",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/List"
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": ["List"],
                "summary": "Create a list.",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/List"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Created"
                    }
                }
            }
        }
    }
}
