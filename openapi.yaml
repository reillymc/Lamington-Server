openapi: 3.1.0
info:
  title: Lamington API
  version: 1.0.0
servers:
  - url: http://localhost:3000/v1
tags:
  - name: Meals
    description: Meal planning operations
  - name: Extractor
    description: Recipe extraction operations
  - name: Planners
    description: Planner operations
  - name: CookList
    description: Cook list operations
  - name: Lists
    description: List operations
  - name: Users
    description: User management operations
  - name: Profile
    description: User profile operations
  - name: Auth
    description: Authentication operations
security:
  - bearerAuth: []
paths:
  /auth/register:
    post:
      tags:
        - Auth
      summary: Register a new user
      operationId: registerUser
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AuthRegister"
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthRegisterResponse"
        400:
          $ref: "#/components/responses/BadRequest"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /auth/login:
    post:
      tags:
        - Auth
      summary: Login a user
      operationId: loginUser
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AuthLogin"
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AuthResponse"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /cooklist/meals:
    get:
      tags:
        - CookList
      summary: Get cook list meals
      operationId: getCookList
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CookListMeal"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
    post:
      tags:
        - CookList
      summary: Add meal to cook list
      operationId: postCookList
      requestBody:
        required: true
        content:
          application/json:
            schema:
              oneOf:
                - $ref: "#/components/schemas/CookListMealCreate"
                - type: array
                  items:
                    $ref: "#/components/schemas/CookListMealCreate"
                  minItems: 1
                  maxItems: 10
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CookListMeal"
        400:
          $ref: "#/components/responses/BadRequest"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /cooklist/meals/{mealId}:
    parameters:
      - name: mealId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    delete:
      tags:
        - CookList
      summary: Remove meal from cook list
      operationId: deleteCookList
      responses:
        204:
          description: Deleted
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
    patch:
      tags:
        - CookList
      summary: Update meal in cook list
      operationId: putCookList
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CookListMealUpdate"
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CookListMeal"
        400:
          $ref: "#/components/responses/BadRequest"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /meals/{mealId}:
    parameters:
      - name: mealId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    get:
      tags:
        - Meals
      summary: Get a meal by ID
      operationId: getMeal
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Meal"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /planners:
    get:
      tags:
        - Planners
      summary: Get user planners
      operationId: getPlanners
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Planner"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
    post:
      tags:
        - Planners
      summary: Create a planner
      operationId: postPlanner
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PlannerCreate"
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Planner"
        400:
          $ref: "#/components/responses/BadRequest"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /planners/{plannerId}:
    parameters:
      - name: plannerId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    get:
      tags:
        - Planners
      summary: Get a planner
      operationId: getPlanner
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Planner"
        400:
          $ref: "#/components/responses/BadRequest"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
    patch:
      tags:
        - Planners
      summary: Update a planner
      operationId: putPlanner
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PlannerUpdate"
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Planner"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
    delete:
      tags:
        - Planners
      summary: Delete a planner
      operationId: deletePlanner
      responses:
        204:
          description: No Content
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /planners/{plannerId}/meals:
    parameters:
      - name: plannerId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    post:
      tags:
        - Planners
      summary: Add a meal to a planner
      operationId: postPlannerMeal
      requestBody:
        required: true
        content:
          application/json:
            schema:
              oneOf:
                - $ref: "#/components/schemas/PlannerMealCreate"
                - type: array
                  items:
                    $ref: "#/components/schemas/PlannerMealCreate"
                  minItems: 1
                  maxItems: 10
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PlannerMeal"
        400:
          $ref: "#/components/responses/BadRequest"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /planners/{plannerId}/meals/{year}/{month}:
    parameters:
      - name: plannerId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
      - name: year
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Year"
      - name: month
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Month"
    get:
      tags:
        - Planners
      summary: Get planner meals
      operationId: getPlannerMeals
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PlannerMeal"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /planners/{plannerId}/meals/{mealId}:
    parameters:
      - name: plannerId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
      - name: mealId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    patch:
      tags:
        - Planners
      summary: Update a meal in a planner
      operationId: putPlannerMeal
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PlannerMealUpdate"
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PlannerMeal"
        400:
          $ref: "#/components/responses/BadRequest"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
    delete:
      tags:
        - Planners
      summary: Remove a meal from a planner
      operationId: deletePlannerMeal
      responses:
        204:
          description: No Content
        400:
          $ref: "#/components/responses/BadRequest"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /planners/{plannerId}/members:
    parameters:
      - name: plannerId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    get:
      tags:
        - Planners
      summary: Get planner members
      operationId: getPlannerMembers
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Member"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
    post:
      tags:
        - Planners
      summary: Invite a member to a planner
      operationId: postPlannerMember
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MemberCreate"
      responses:
        204:
          description: No Content
        400:
          $ref: "#/components/responses/BadRequest"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /planners/{plannerId}/members/{userId}:
    parameters:
      - name: plannerId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
      - name: userId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    delete:
      tags:
        - Planners
      summary: Remove a member from a planner
      operationId: deletePlannerMember
      responses:
        204:
          description: No Content
        400:
          $ref: "#/components/responses/BadRequest"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
    patch:
      tags:
        - Planners
      summary: Update a planner member
      operationId: updatePlannerMember
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MemberUpdate"
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Member"
        400:
          $ref: "#/components/responses/BadRequest"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /planners/{plannerId}/invite/accept:
    parameters:
      - name: plannerId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    post:
      tags:
        - Planners
      summary: Accept planner invitation
      operationId: acceptPlannerInvite
      responses:
        204:
          description: No Content
        400:
          $ref: "#/components/responses/BadRequest"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /planners/{plannerId}/invite/decline:
    parameters:
      - name: plannerId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    post:
      tags:
        - Planners
      summary: Decline planner invitation
      operationId: declinePlannerInvite
      responses:
        204:
          description: No Content
        400:
          $ref: "#/components/responses/BadRequest"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /planners/{plannerId}/leave:
    parameters:
      - name: plannerId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    post:
      tags:
        - Planners
      summary: Leave a planner
      operationId: leavePlanner
      responses:
        204:
          description: No Content
        400:
          $ref: "#/components/responses/BadRequest"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /lists:
    get:
      tags:
        - Lists
      summary: Get user lists
      operationId: getLists
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ListSummary"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
    post:
      tags:
        - Lists
      summary: Create a list
      operationId: postList
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ListCreate"
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/List"
        400:
          $ref: "#/components/responses/BadRequest"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /lists/{listId}:
    parameters:
      - name: listId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    get:
      tags:
        - Lists
      summary: Get a list
      operationId: getList
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/List"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
    patch:
      tags:
        - Lists
      summary: Update a list
      operationId: patchList
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ListUpdate"
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/List"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
    delete:
      tags:
        - Lists
      summary: Delete a list
      operationId: deleteList
      responses:
        204:
          description: No Content
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /lists/{listId}/items:
    parameters:
      - name: listId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    get:
      tags:
        - Lists
      summary: Get list items
      operationId: getListItems
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ListItem"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
    post:
      tags:
        - Lists
      summary: Add item to list
      operationId: postListItem
      requestBody:
        required: true
        content:
          application/json:
            schema:
              oneOf:
                - $ref: "#/components/schemas/ListItemCreate"
                - type: array
                  items:
                    $ref: "#/components/schemas/ListItemCreate"
      responses:
        201:
          description: Created
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ListItem"
        400:
          $ref: "#/components/responses/BadRequest"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /lists/{listId}/items/{itemId}:
    parameters:
      - name: listId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
      - name: itemId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    patch:
      tags:
        - Lists
      summary: Update list item
      operationId: patchListItem
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ListItemUpdate"
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ListItem"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
    delete:
      tags:
        - Lists
      summary: Delete list item
      operationId: deleteListItem
      responses:
        204:
          description: No Content
        400:
          $ref: "#/components/responses/BadRequest"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /lists/{listId}/items/move:
    parameters:
      - name: listId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    post:
      tags:
        - Lists
      summary: Move list items to another list
      operationId: moveListItems
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                destinationListId:
                  $ref: "#/components/schemas/Uuid"
                itemIds:
                  type: array
                  items:
                    $ref: "#/components/schemas/Uuid"
                  minItems: 1
              required:
                - destinationListId
                - itemIds
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/ListItem"
        400:
          $ref: "#/components/responses/BadRequest"
        401:
          $ref: "#/components/responses/Unauthorized"
        403:
          $ref: "#/components/responses/Forbidden"
        404:
          $ref: "#/components/responses/NotFound"
        500:
          $ref: "#/components/responses/InternalServerError"
  /lists/{listId}/members:
    parameters:
      - name: listId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    get:
      tags:
        - Lists
      summary: Get list members
      operationId: getListMembers
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Member"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
    post:
      tags:
        - Lists
      summary: Invite member to list
      operationId: postListMember
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MemberCreate"
      responses:
        204:
          description: No Content
        400:
          $ref: "#/components/responses/BadRequest"
        401:
          $ref: "#/components/responses/Unauthorized"
        404:
          $ref: "#/components/responses/NotFound"
        500:
          $ref: "#/components/responses/InternalServerError"
  /lists/{listId}/members/{userId}:
    parameters:
      - name: listId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
      - name: userId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    patch:
      tags:
        - Lists
      summary: Update list member
      operationId: patchListMember
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MemberUpdate"
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Member"
        400:
          $ref: "#/components/responses/BadRequest"
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
    delete:
      tags:
        - Lists
      summary: Remove member from list
      operationId: deleteListMember
      responses:
        204:
          description: No Content
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /lists/{listId}/invite/accept:
    parameters:
      - name: listId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    post:
      tags:
        - Lists
      summary: Accept list invitation
      operationId: acceptListInvite
      responses:
        204:
          description: No Content
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /lists/{listId}/invite/decline:
    parameters:
      - name: listId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    post:
      tags:
        - Lists
      summary: Decline list invitation
      operationId: declineListInvite
      responses:
        204:
          description: No Content
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /lists/{listId}/leave:
    parameters:
      - name: listId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    post:
      tags:
        - Lists
      summary: Leave list
      operationId: leaveList
      responses:
        204:
          description: No Content
        404:
          $ref: "#/components/responses/NotFound"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /extractor/recipeMetadata:
    get:
      tags:
        - Extractor
      summary: Extract recipe metadata
      operationId: getExtractRecipeMetadata
      parameters:
        - name: url
          in: query
          description: The URL of the recipe to extract metadata from
          required: true
          schema:
            type: string
            format: uri
            maxLength: 2048
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ExtractedRecipeMetadata"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /extractor/recipe:
    get:
      tags:
        - Extractor
      summary: Extract full recipe
      operationId: getExtractRecipe
      parameters:
        - name: url
          in: query
          description: The URL of the recipe to extract
          required: true
          schema:
            type: string
            format: uri
            maxLength: 2048
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ExtractedRecipe"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /profile:
    get:
      tags:
        - Profile
      summary: Get current user profile
      operationId: getProfile
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
    delete:
      tags:
        - Profile
      summary: Delete current user profile
      operationId: deleteProfile
      responses:
        204:
          description: No Content
        401:
          $ref: "#/components/responses/Unauthorized"
        500:
          $ref: "#/components/responses/InternalServerError"
  /users:
    get:
      tags:
        - Users
      summary: Get all users
      operationId: getUsers
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/User"
        401:
          $ref: "#/components/responses/Unauthorized"
        403:
          $ref: "#/components/responses/Forbidden"
        500:
          $ref: "#/components/responses/InternalServerError"
  /users/pending:
    get:
      tags:
        - Users
      summary: Get pending users
      operationId: getPendingUsers
      responses:
        200:
          description: Successful response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/User"
        401:
          $ref: "#/components/responses/Unauthorized"
        403:
          $ref: "#/components/responses/Forbidden"
        500:
          $ref: "#/components/responses/InternalServerError"
  /users/{userId}:
    parameters:
      - name: userId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    delete:
      tags:
        - Users
      summary: Delete user
      operationId: deleteUser
      responses:
        204:
          description: No Content
        401:
          $ref: "#/components/responses/Unauthorized"
        403:
          $ref: "#/components/responses/Forbidden"
        500:
          $ref: "#/components/responses/InternalServerError"
  /users/{userId}/approve:
    parameters:
      - name: userId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    post:
      tags:
        - Users
      summary: Approve user
      operationId: approveUser
      responses:
        204:
          description: No Content
        401:
          $ref: "#/components/responses/Unauthorized"
        403:
          $ref: "#/components/responses/Forbidden"
        404:
          $ref: "#/components/responses/NotFound"
        500:
          $ref: "#/components/responses/InternalServerError"
  /users/{userId}/blacklist:
    parameters:
      - name: userId
        in: path
        required: true
        schema:
          $ref: "#/components/schemas/Uuid"
    post:
      tags:
        - Users
      summary: Blacklist user
      operationId: blacklistUser
      responses:
        204:
          description: No Content
        401:
          $ref: "#/components/responses/Unauthorized"
        403:
          $ref: "#/components/responses/Forbidden"
        404:
          $ref: "#/components/responses/NotFound"
        500:
          $ref: "#/components/responses/InternalServerError"
components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  responses:
    BadRequest:
      description: Bad Request
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    NotFound:
      description: Not Found
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    Unauthorized:
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    Forbidden:
      description: Forbidden
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    InternalServerError:
      description: Internal Server Error
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
  schemas:
    ErrorResponse:
      type: object
      properties:
        error:
          type: boolean
          example: true
        message:
          type: string
      required:
        - error
    User:
      type: object
      properties:
        userId:
          $ref: "#/components/schemas/Uuid"
        email:
          type: string
          format: email
        firstName:
          type: string
        lastName:
          type: string
        status:
          $ref: "#/components/schemas/UserStatus"
      required:
        - userId
        - email
        - firstName
        - lastName
        - status
    Owner:
      type: object
      properties:
        userId:
          type: string
        firstName:
          type: string
      required:
        - userId
        - firstName
    Uuid:
      type: string
      format: uuid
    Year:
      type: integer
      minimum: 2000
      maximum: 2199
    Month:
      type: integer
      minimum: 0
      maximum: 11
    DayOfMonth:
      type: integer
      minimum: 1
      maximum: 31
    UserStatus:
      type: string
      description: >
        * `O` - Owner
        * `A` - Administrator
        * `M` - Member
        * `P` - Pending
        * `B` - Blocked
      enum:
        - O
        - A
        - M
        - P
        - B
    Course:
      type: string
      enum:
        - breakfast
        - lunch
        - dinner
        - snack
        - side
        - component
        - dessert
        - drink
    MealProperties:
      type: object
      properties:
        mealId:
          $ref: "#/components/schemas/Uuid"
        plannerId:
          $ref: "#/components/schemas/Uuid"
        year:
          $ref: "#/components/schemas/Year"
        month:
          $ref: "#/components/schemas/Month"
        dayOfMonth:
          $ref: "#/components/schemas/DayOfMonth"
        course:
          $ref: "#/components/schemas/Course"
        description:
          type: string
        source:
          type: string
        sequence:
          type: integer
        recipeId:
          $ref: "#/components/schemas/Uuid"
        notes:
          type: string
      dependentRequired:
        plannerId:
          - year
          - month
          - dayOfMonth
        year:
          - plannerId
          - month
          - dayOfMonth
        month:
          - plannerId
          - year
          - dayOfMonth
        dayOfMonth:
          - plannerId
          - year
          - month
    Meal:
      allOf:
        - $ref: "#/components/schemas/MealProperties"
        - type: object
          properties:
            owner:
              $ref: "#/components/schemas/Owner"
            heroImage:
              $ref: "#/components/schemas/ImageAttachment"
      required:
        - mealId
        - course
        - owner
    MealBase:
      type: object
      properties:
        course:
          $ref: "#/components/schemas/Course"
        description:
          type: string
        source:
          type: string
        recipeId:
          $ref: "#/components/schemas/Uuid"
        heroImage:
          $ref: "#/components/schemas/ImageAttachment"
      required:
        - course
    MealCreateBase:
      type: object
      properties:
        course:
          $ref: "#/components/schemas/Course"
        description:
          type:
            - string
            - "null"
          minLength: 1
          maxLength: 255
        source:
          type:
            - string
            - "null"
          minLength: 1
          maxLength: 255
        recipeId:
          oneOf:
            - $ref: "#/components/schemas/Uuid"
            - type: "null"
        heroImage:
          $ref: "#/components/schemas/Uuid"
      required:
        - course
    MealUpdateBase:
      type: object
      properties:
        course:
          $ref: "#/components/schemas/Course"
        description:
          type:
            - string
            - "null"
          minLength: 1
          maxLength: 255
        source:
          type:
            - string
            - "null"
          minLength: 1
          maxLength: 255
        recipeId:
          oneOf:
            - $ref: "#/components/schemas/Uuid"
            - type: "null"
        heroImage:
          oneOf:
            - $ref: "#/components/schemas/Uuid"
            - type: "null"
    CookListMeal:
      allOf:
        - $ref: "#/components/schemas/MealBase"
        - type: object
          properties:
            mealId:
              $ref: "#/components/schemas/Uuid"
            owner:
              $ref: "#/components/schemas/Owner"
            sequence:
              type: integer
          required:
            - mealId
            - owner
    CookListMealCreate:
      allOf:
        - $ref: "#/components/schemas/MealCreateBase"
        - type: object
          properties:
            sequence:
              type:
                - integer
                - "null"
              minimum: 0
              maximum: 10
      unevaluatedProperties: false
    CookListMealUpdate:
      allOf:
        - $ref: "#/components/schemas/MealUpdateBase"
        - type: object
          properties:
            sequence:
              type:
                - integer
                - "null"
              minimum: 0
              maximum: 10
      unevaluatedProperties: false
    PlannerColor:
      type: string
      enum:
        - variant1
        - variant2
        - variant3
        - variant4
        - variant5
    Planner:
      type: object
      properties:
        plannerId:
          $ref: "#/components/schemas/Uuid"
        owner:
          $ref: "#/components/schemas/Owner"
        name:
          type: string
        color:
          $ref: "#/components/schemas/PlannerColor"
        description:
          type: string
        status:
          $ref: "#/components/schemas/UserStatus"
      required:
        - plannerId
        - owner
        - name
    PlannerCreate:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 255
        color:
          $ref: "#/components/schemas/PlannerColor"
        description:
          type:
            - string
            - "null"
          minLength: 1
          maxLength: 255
      required:
        - name
      unevaluatedProperties: false
    PlannerUpdate:
      type: object
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 255
        color:
          $ref: "#/components/schemas/PlannerColor"
        description:
          type:
            - string
            - "null"
          minLength: 1
          maxLength: 255
      unevaluatedProperties: false
    Member:
      type: object
      properties:
        userId:
          $ref: "#/components/schemas/Uuid"
        firstName:
          type: string
        lastName:
          type: string
        status:
          $ref: "#/components/schemas/UserStatus"
      required:
        - userId
        - firstName
    MemberUpdateStatus:
      type: string
      description: >
        * `A` - Administrator
        * `M` - Member
      enum:
        - A
        - M
    MemberUpdate:
      type: object
      properties:
        status:
          $ref: "#/components/schemas/MemberUpdateStatus"
      required:
        - status
      unevaluatedProperties: false
    MemberCreate:
      type: object
      properties:
        userId:
          $ref: "#/components/schemas/Uuid"
      required:
        - userId
      unevaluatedProperties: false
    ListIcon:
      type: string
      enum:
        - variant1
        - variant2
        - variant3
        - variant4
        - variant5
        - variant6
        - variant7
        - variant8
        - variant9
        - variant10
        - variant11
        - variant12
        - variant13
        - variant14
        - variant15
        - variant16
        - variant17
    ListItemAmount:
      oneOf:
        - $ref: "#/components/schemas/AmountFraction"
        - $ref: "#/components/schemas/AmountRange"
        - $ref: "#/components/schemas/AmountNumber"
    AmountFraction:
      type: object
      properties:
        representation:
          type: string
          enum: [fraction]
        value:
          type: array
          items:
            type: string
          minItems: 3
          maxItems: 3
      required:
        - representation
        - value
    AmountRange:
      type: object
      properties:
        representation:
          type: string
          enum: [range]
        value:
          type: array
          items:
            type: string
          minItems: 2
          maxItems: 2
      required:
        - representation
        - value
    AmountNumber:
      type: object
      properties:
        representation:
          type: string
          enum: [number]
        value:
          type: string
      required:
        - representation
        - value
    ListItem:
      type: object
      properties:
        itemId:
          $ref: "#/components/schemas/Uuid"
        name:
          type: string
        updatedAt:
          type: string
          format: date-time
        completed:
          type: boolean
        ingredientId:
          type: string
        unit:
          type: string
        amount:
          $ref: "#/components/schemas/ListItemAmount"
        notes:
          type: string
      required:
        - itemId
        - name
        - updatedAt
        - completed
    ListItemCreate:
      type: object
      properties:
        name:
          type: string
        completed:
          type: boolean
        ingredientId:
          type: string
        unit:
          type: string
        amount:
          $ref: "#/components/schemas/ListItemAmount"
        notes:
          type: string
      required:
        - name
      unevaluatedProperties: false
    ListItemUpdate:
      type: object
      properties:
        name:
          type: string
        completed:
          type: boolean
        ingredientId:
          type:
            - string
            - "null"
        unit:
          type:
            - string
            - "null"
        amount:
          oneOf:
            - $ref: "#/components/schemas/ListItemAmount"
            - type: "null"
        notes:
          type:
            - string
            - "null"
      unevaluatedProperties: false
    List:
      type: object
      properties:
        listId:
          $ref: "#/components/schemas/Uuid"
        name:
          type: string
        owner:
          $ref: "#/components/schemas/Owner"
        description:
          type: string
        icon:
          $ref: "#/components/schemas/ListIcon"
        status:
          $ref: "#/components/schemas/UserStatus"
      required:
        - listId
        - name
        - owner
    ListSummary:
      allOf:
        - $ref: "#/components/schemas/List"
        - type: object
          properties:
            outstandingItemCount:
              type: integer
            lastUpdated:
              type: string
              format: date-time
    ListCreate:
      type: object
      properties:
        listId:
          $ref: "#/components/schemas/Uuid"
        name:
          type: string
        description:
          type: string
        icon:
          $ref: "#/components/schemas/ListIcon"
      required:
        - name
      unevaluatedProperties: false
    ListUpdate:
      type: object
      properties:
        name:
          type: string
        description:
          type:
            - string
            - "null"
        icon:
          $ref: "#/components/schemas/ListIcon"
      unevaluatedProperties: false
    PlannerMeal:
      allOf:
        - $ref: "#/components/schemas/MealBase"
        - type: object
          properties:
            mealId:
              $ref: "#/components/schemas/Uuid"
            plannerId:
              $ref: "#/components/schemas/Uuid"
            owner:
              $ref: "#/components/schemas/Owner"
            year:
              $ref: "#/components/schemas/Year"
            month:
              $ref: "#/components/schemas/Month"
            dayOfMonth:
              $ref: "#/components/schemas/DayOfMonth"
          required:
            - mealId
            - plannerId
            - owner
            - year
            - month
            - dayOfMonth
    PlannerMealCreate:
      allOf:
        - $ref: "#/components/schemas/MealCreateBase"
        - type: object
          properties:
            year:
              $ref: "#/components/schemas/Year"
            month:
              $ref: "#/components/schemas/Month"
            dayOfMonth:
              $ref: "#/components/schemas/DayOfMonth"
          required:
            - year
            - month
            - dayOfMonth
      unevaluatedProperties: false
    PlannerMealUpdate:
      allOf:
        - $ref: "#/components/schemas/MealUpdateBase"
        - type: object
          properties:
            year:
              $ref: "#/components/schemas/Year"
            month:
              $ref: "#/components/schemas/Month"
            dayOfMonth:
              $ref: "#/components/schemas/DayOfMonth"
      unevaluatedProperties: false
    MealPartial:
      allOf:
        - $ref: "#/components/schemas/MealProperties"
    MealCreate:
      allOf:
        - $ref: "#/components/schemas/MealProperties"
      required:
        - course
      unevaluatedProperties: false
    ExtractedRecipeMetadata:
      type: object
      properties:
        name:
          type: string
        imageUrl:
          type: string
      required:
        - name
    RecipeBase:
      type: object
      properties:
        description:
          type: string
        prepTime:
          type: integer
        cookTime:
          type: integer
        source:
          type: string
        url:
          type: string
        notes:
          type: string
    ExtractedRecipe:
      allOf:
        - $ref: "#/components/schemas/ExtractedRecipeMetadata"
        - $ref: "#/components/schemas/RecipeBase"
    Recipe:
      allOf:
        - $ref: "#/components/schemas/ExtractedRecipe"
        - type: object
          properties:
            recipeId:
              $ref: "#/components/schemas/Uuid"
            public:
              type: boolean
            timesCooked:
              type: integer
            owner:
              $ref: "#/components/schemas/Owner"
    ImageAttachment:
      type: object
      properties:
        attachmentId:
          $ref: "#/components/schemas/Uuid"
        uri:
          type: string
      required:
        - attachmentId
        - uri
    AuthRegister:
      type: object
      properties:
        email:
          type: string
          format: email
        firstName:
          type: string
        lastName:
          type: string
        password:
          type: string
      required:
        - email
        - firstName
        - lastName
        - password
    AuthLogin:
      type: object
      properties:
        email:
          type: string
          format: email
        password:
          type: string
      required:
        - email
        - password
    AuthResponse:
      type: object
      properties:
        authorization:
          type: object
          properties:
            token:
              type: string
            tokenType:
              type: string
          required:
            - token
            - tokenType
        user:
          type: object
          properties:
            userId:
              $ref: "#/components/schemas/Uuid"
            email:
              type: string
              format: email
            status:
              $ref: "#/components/schemas/UserStatus"
          required:
            - userId
            - email
            - status
        message:
          type: string
      required:
        - user
    AuthRegisterResponse:
      type: object
      properties:
        user:
          type: object
          properties:
            userId:
              $ref: "#/components/schemas/Uuid"
            email:
              type: string
              format: email
            status:
              $ref: "#/components/schemas/UserStatus"
          required:
            - userId
            - email
            - status
      required:
        - user
